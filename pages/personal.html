<!DOCTYPE html>
<html lang="en" class="personal-page">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Restored Original Description -->
    <meta name="description" content="Rofilid - Personal financial knowledge, tools, and coaching for Nigerians and beyond.">
    <title>Personal Financial Solutions - Rofilid</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Corrected CSS Path: Assuming styles.css is in the root -->
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Decorative Background Elements -->
    <div class="deco-blur blur-1"></div>
    <div class="deco-blur blur-2"></div>
    <div class="deco-blur blur-3"></div>

    <!-- Header Section -->
    <header class="site-header">
        <div class="container header-container">
            <div class="logo">
                <a href="../index.html" aria-label="Rofilid Home">
                    <!-- Corrected Image Path -->
                    <img src="../assets/images/rofilid-logo-white.svg" alt="Rofilid Logo" width="120" height="40" loading="eager">
                </a>
            </div>
            <nav aria-label="Main navigation">
                <button class="mobile-menu-toggle" aria-expanded="false" aria-controls="primary-navigation">
                    <span class="sr-only">Menu</span>
                    <i class="fas fa-bars" aria-hidden="true"></i>
                </button>
                <ul id="primary-navigation" class="nav-list">
                    <li class="nav-item"><a href="../index.html" class="nav-link">Home</a></li>
                    <!-- Corrected Path: Assumes corporate.html is a sibling -->
                    <li class="nav-item"><a href="corporate.html" class="nav-link">Corporate</a></li>
                    <li class="nav-item"><a href="personal.html" class="nav-link active-page">Personal</a></li>
                    <li class="nav-item"><a href="../index.html#services" class="nav-link">Services</a></li>
                </ul>
            </nav>
            <a href="../index.html#services" class="connect-button" aria-label="Our Services">Our Services</a>
        </div>
    </header>

    <main>
        <!-- I. Introduction Section (Restored Original Text) -->
        <section class="page-intro">
             <div class="container">
                 <h1>Empower Yourself with Financial Knowledge</h1>
                <p class="subheadline">Take control of your finances and secure your future, wherever you are.</p>
                 <p>Financial literacy is crucial for personal well-being. In Nigeria, less than 50% of adults grasp basic financial principles, and access to formal banking remains a challenge for many (only 40%). ROFILID provides accessible resources, interactive tools, and expert coaching designed to help individuals in Nigeria and around the world make informed financial decisions, manage money effectively, and achieve lasting financial security.</p>
                <div class="stats-grid">
                  <div class="stat-card"> <i class="fas fa-users"></i> <h4>0+ Empowered</h4> <p>Individuals gaining financial freedom</p> <span class="stat-target" style="display: none;">10000</span> </div>
                  <div class="stat-card"> <i class="fas fa-chart-line"></i> <h4>0% Success Rate</h4> <p>Of users achieving their financial goals</p> <span class="stat-target" style="display: none;">85</span> </div>
                   <div class="stat-card"> <i class="fas fa-book-open-reader"></i> <h4>0+ Resources</h4> <p>Guides, Tools & Quizzes Available</p> <span class="stat-target" style="display: none;">50</span> </div>
               </div>
            </div>
        </section>

        <!-- Quote 1 (Learn First) -->
        <aside class="motivational-quote">
            <div class="container">
                <i class="fas fa-lightbulb quote-icon"></i>
                 <p>The best investment? <span class="highlight">Knowledge that empowers action.</span> Dive into our resources.</p>
            </div>
        </aside>

        <!-- II. Resources Section (Kept from original, follows Intro) -->
         <section id="personal-resources" class="page-section bg-light">
             <div class="container">
                 <h2>Learn and Grow</h2>
                 <p class="section-description">Access a wealth of educational materials designed to enhance your financial understanding.</p>
                 <div class="resource-grid">
                     <article class="resource-card">
                          <div class="card-image"> <img src="../assets/images/blog-placeholder.jpg" alt="Person reading financial articles" loading="lazy"> </div>
                         <div class="card-content"> <h3>Blog & Articles</h3> <p>Explore articles on budgeting, saving, investing, Nigeria-specific topics... <em>(Full Blog Coming Soon)</em></p> <div class="card-cta"> <a href="#" class="btn" aria-disabled="true" style="cursor: not-allowed; opacity: 0.6;">Explore Latest Posts</a> </div> </div>
                    </article>
                    <article class="resource-card social-integration">
                        <div class="card-header"> <i class="fab fa-instagram"></i> <h3>@rofi.lid Highlights</h3> </div>
                         <div class="social-carousel">
                             <div class="social-post"> <blockquote>"Compound interest is key!... ðŸ‡³ðŸ‡¬ #FinanceNaija #SavingsGoal"<footer>- @rofi.lid</footer></blockquote> </div>
                              <div class="social-post"> <img src="../assets/images/social-placeholder.jpg" alt="Budgeting tips infographic" loading="lazy"> <div class="post-engagement"> <span><i class="fas fa-heart"></i> 2.4K</span> <span><i class="fas fa-comment"></i> 184</span> <span><i class="fas fa-share"></i> 550</span> </div> </div>
                             <div class="social-post"> <blockquote>"Debt reduction strategies that WORK!... ðŸ’° #DebtFreeJourney #NigeriaFinance"<footer>- @rofi.lid</footer></blockquote> </div>
                         </div>
                          <div class="card-cta" style="margin-top: var(--spacing-md); text-align:center;"> <a href="https://instagram.com/rofi.lid" target="_blank" rel="noopener noreferrer" class="btn btn-outline">Follow Us on Instagram</a> </div>
                    </article>
                     <article class="resource-card">
                         <div class="card-image"> <img src="../assets/images/literacy-placeholder.jpg" alt="Stairs made of coins" loading="lazy"> </div>
                          <div class="card-content"> <h3>Why Financial Literacy Matters</h3> <p>Understanding finance empowers you to make sound decisions, avoid costly mistakes, reduce stress, prepare for emergencies...</p> <div class="card-cta"> <a href="#personal-coaching" class="btn btn-outline">Learn How Coaching Helps</a> </div> </div>
                     </article>
                </div>
            </div>
        </section>

         <!-- Quote 2 (Transition to Tools/Quizzes) -->
        <aside class="motivational-quote alt-bg">
            <div class="container">
                <i class="fas fa-cogs quote-icon"></i>
                 <p>Ready to apply what you've learned? <span class="highlight">Use our tools & test your knowledge.</span></p>
            </div>
         </aside>

        <!-- III. Tools & Quizzes Section -->
        <section id="personal-tools" class="page-section">
            <div class="container">
                <h2>Tools for Success & Knowledge Check</h2>
                 <p class="section-description">Utilize free templates and take our introductory Financial Fitness quizzes to solidify your understanding.</p>

                <!-- Template Grid First -->
                <div class="template-grid">
                      <article class="template-card" data-template="budget">
                         <div class="template-preview"> <img src="../assets/images/template-budget-placeholder.jpg" alt="Budget template preview" loading="lazy"> <span class="price-tag">Free</span> </div>
                         <div class="template-details"> <h3>Basic Budget Tracker</h3> <p>A clean spreadsheet to start planning your spending and saving.</p> <div class="template-actions"> <a href="#" class="btn btn-outline" aria-disabled="true" style="cursor: not-allowed; opacity: 0.6;">Preview</a> <a href="#" class="btn" aria-disabled="true" style="cursor: not-allowed; opacity: 0.6;">Download (Free)</a> </div> </div>
                    </article>
                    <article class="template-card" data-template="networth">
                        <div class="template-preview"> <img src="../assets/images/template-networth-placeholder.jpg" alt="Net worth template preview" loading="lazy"> <span class="price-tag">Free</span> </div>
                         <div class="template-details"> <h3>Net Worth Tracker</h3> <p>Understand your financial position by tracking assets and liabilities.</p> <div class="template-actions"> <a href="#" class="btn btn-outline" aria-disabled="true" style="cursor: not-allowed; opacity: 0.6;">Preview</a> <a href="#" class="btn" aria-disabled="true" style="cursor: not-allowed; opacity: 0.6;">Download (Free)</a> </div> </div>
                     </article>
                </div>

                <!-- Financial Fitness Challenge - INTRO Section -->
                <div id="financial-fitness-challenge-intro" class="page-section section-tight" style="padding-top: var(--spacing-xxl);">
                     <h3 style="text-align: center; margin-bottom: var(--spacing-xl); color: var(--color-primary); font-size: clamp(1.6rem, 4vw, 2rem);">Test Your Financial Groundwork</h3>
                     <p class="section-description" style="margin-bottom: var(--spacing-lg);">Start with these fundamental quizzes. Each has 5 questions with instant feedback.</p>

                     <!-- Only Theme 1 Displayed Here -->
                     <div class="challenge-theme">
                         <!-- Theme 1 heading can be omitted here if the section title suffices -->
                         <!-- <h3>Theme 1: Your Financial Groundwork</h3> -->
                         <div class="category-grid">
                              <article class="category-card" data-category-id="1">
                                <i class="fas fa-piggy-bank category-icon"></i>
                                  <h4>Income & Financial Vitals</h4>
                                <p>Understanding income & your overall standing.</p>
                                 <button class="btn start-quiz-btn">Start Quiz</button>
                             </article>
                            <article class="category-card" data-category-id="2">
                                 <i class="fas fa-sack-dollar category-icon"></i>
                                  <h4>Savings Essentials</h4>
                                <p>The why and how of building savings.</p>
                                 <button class="btn start-quiz-btn">Start Quiz</button>
                            </article>
                            <article class="category-card" data-category-id="3">
                                 <i class="fas fa-calculator category-icon"></i>
                                  <h4>Budgeting Basics</h4>
                                 <p>Creating and sticking to a plan.</p>
                                <button class="btn start-quiz-btn">Start Quiz</button>
                            </article>
                            <article class="category-card" data-category-id="4">
                                <i class="fas fa-receipt category-icon"></i>
                                 <h4>Tracking & Managing Spending</h4>
                                <p>Knowing where your money goes.</p>
                                <button class="btn start-quiz-btn">Start Quiz</button>
                            </article>
                        </div>
                    </div>

                    <!-- Link to Full Quiz Page -->
                    <div class="full-challenge-link" style="text-align: center; margin-top: var(--spacing-xl);">
                         <!-- Corrected Link Path: Assumes quizzes.html is a sibling -->
                        <a href="quizzes.html" class="btn btn-outline large">
                             Explore All 20 Financial Fitness Quizzes <i class="fas fa-arrow-right" style="margin-left: 8px;"></i>
                        </a>
                    </div>

                </div><!-- End #financial-fitness-challenge-intro -->

            </div><!-- End #personal-tools container -->
        </section>

         <!-- Quote 3 -->
         <aside class="motivational-quote">
            <div class="container">
                <i class="fas fa-user-check quote-icon"></i>
                <p>Need more specific help? Create a <span class="highlight">personalized roadmap</span> with expert coaching.</p>
             </div>
        </aside>

         <!-- IV. Coaching Section -->
        <section id="personal-coaching" class="page-section bg-light">
            <div class="container">
                <h2>Get Personalized Guidance</h2>
                <p class="section-description">Work one-on-one with our expert coaches to develop a customized financial plan and build lasting healthy habits.</p>
                 <!-- Coaching content retained -->
                 <div class="coaching-content">
                      <div class="coaching-details">
                         <div class="coaching-item">
                              <div class="card-image" style="margin-bottom: var(--spacing-md); border-radius: var(--border-radius);"> <img src="../assets/images/coaching-placeholder.jpg" alt="Financial coach discussion" loading="lazy"> </div>
                             <h3>What is Financial Coaching?</h3> <p>It's an educational partnership focused on empowering you...</p>
                        </div>
                        <div class="coaching-item">
                             <h3>How It Helps</h3> <p>Our coaches provide support with:</p>
                             <ul> <li>Creating actionable debt management strategies</li> <li>Building realistic budgets and savings plans</li> <li>Navigating Nigerian financial complexities</li> <li>Improving financial habits for long-term success</li> <li>Gaining confidence and reducing financial stress</li> </ul>
                         </div>
                    </div>
                     <div class="coaching-item">
                         <h3>Schedule a Discovery Call</h3> <p>Ready for personalized support? Fill out the form below...</p>
                        <form class="coaching-request-form" action="#" method="POST">
                            <label for="coach-name">Name:</label> <input type="text" id="coach-name" name="name" required placeholder="Your Full Name">
                             <label for="coach-email">Email:</label> <input type="email" id="coach-email" name="email" required placeholder="your.email@example.com">
                            <label for="coach-phone">Phone Number: (Optional)</label> <input type="tel" id="coach-phone" name="phone" placeholder="e.g. 08012345678">
                            <label for="coach-interest">What financial area are you most interested in improving? (Optional)</label> <textarea id="coach-interest" name="interest" rows="4" placeholder="E.g., Budgeting, Saving, Debt..."></textarea>
                            <button type="submit" class="btn">Request Discovery Call</button>
                            <p style="font-size: 0.8rem; text-align: center; margin-top: var(--spacing-md); color: var(--color-text-light);">We'll respond within 1 business day.</p>
                        </form>
                     </div>
                </div>
                <div class="disclaimer">
                     <p><strong>Disclaimer:</strong> ROFILID provides educational financial coaching. We empower you with knowledge and tools but do not offer specific investment advice or sell financial products.</p>
                </div>
             </div>
        </section>

         <!-- V. MMISBALIOR Section -->
          <section class="page-section section-tight">
              <div class="container">
                  <div class="mmsballior-promo">
                     <div class="promo-content">
                         <h3>MMISBALIOR: Financial Education for Teens</h3>
                         <p>Empower the next generation with crucial money skills! MMISBALIOR is our specialized program teaching teens essential finance concepts...</p>
                          <a href="#" class="btn" aria-disabled="true" style="cursor: not-allowed; opacity: 0.6;">Discover MMISBALIOR (Coming Soon)</a>
                     </div>
                     <div class="promo-visual">
                           <img src="../assets/images/mmsballior-placeholder.jpg" alt="Teens learning about finance" loading="lazy">
                     </div>
                </div>
            </div>
        </section>
    </main>

     <!-- QUIZ MODAL STRUCTURE (Initially Hidden - REQUIRED FOR THEME 1 QUIZZES ON THIS PAGE) -->
    <div id="quiz-modal" class="quiz-modal-overlay" style="display: none;">
         <div class="quiz-modal-content">
            <button id="quiz-modal-close" class="quiz-modal-close-btn" aria-label="Close Quiz">Ã—</button>
            <h3 id="quiz-modal-title">Quiz Title</h3>
            <div class="quiz-modal-progress">
                 <span id="quiz-modal-q-current">1</span> / <span id="quiz-modal-q-total">5</span>
            </div>
             <div id="quiz-modal-question" class="quiz-modal-question-area">Question text appears here...</div>
             <div id="quiz-modal-options" class="quiz-modal-options-area">Options appear here...</div>
            <div id="quiz-modal-feedback" class="quiz-feedback" style="display: none;">Feedback appears here...</div>
            <div id="quiz-modal-results" class="quiz-results" style="display: none;">Final results appear here...</div>
            <div class="quiz-modal-navigation">
                 <button id="quiz-modal-next" class="cta-button small quiz-next-btn" style="display: none;">Next Question</button>
                <button id="quiz-modal-restart" class="cta-button small quiz-restart-btn" style="display: none;">Restart Quiz</button>
                <button id="quiz-modal-close-results" class="cta-button small quiz-next-btn" style="display: none;">Close</button>
             </div>
        </div>
     </div>

     <!-- Footer Section (Retained structure, corrected paths/links) -->
     <footer class="site-footer">
         <div class="container">
            <div class="page-footer-links">
                <div class="container">
                     <div> <h4>Personal Solutions</h4> <ul> <li><a href="#financial-fitness-challenge-intro">Fitness Challenge Intro</a></li> <li><a href="quizzes.html">All Quizzes</a></li> <li><a href="#personal-tools">Templates</a></li> <li><a href="#personal-resources">Resources</a></li> <li><a href="#personal-coaching">Coaching</a></li> <li><a href="#">MMISBALIOR (Teens)</a></li> </ul> </div>
                     <div> <h4>Quick Links</h4> <ul> <li><a href="../index.html">Home</a></li> <li><a href="corporate.html">Corporate Solutions</a></li> <li><a href="../index.html#services">Our Services</a></li> <li><a href="../index.html#contact">Contact Us</a></li> </ul> </div>
                    <div> <h4>Company</h4> <ul> <li><a href="#">About Us</a></li> <li><a href="#">Blog</a></li> <li><a href="#">Privacy Policy</a></li> <li><a href="#">Terms of Service</a></li> </ul> </div>
                 </div>
            </div>
            <div class="footer-content">
                 <div class="footer-left">
                    <div class="logo"> <a href="../index.html" aria-label="Rofilid Home"> <img src="../assets/images/rofilid-logo-white.svg" alt="Rofilid Logo" width="120" height="40" loading="lazy"> </a> </div>
                     <p style="margin-top: var(--spacing-sm); font-size: 0.9rem; color: rgba(255, 255, 255, 0.7);">Empowering financial futures.</p>
                 </div>
                 <div class="footer-right">
                     <p style="margin-bottom: var(--spacing-sm); font-weight: 500;">Connect With Us</p>
                    <div class="social-media">
                         <a href="https://facebook.com/rofilid" aria-label="Facebook" class="social-link" target="_blank" rel="noopener noreferrer"><img src="../assets/images/facebook.png" alt="Facebook Icon" class="social-icon"></a>
                        <a href="https://instagram.com/rofi.lid" aria-label="Instagram" class="social-link" target="_blank" rel="noopener noreferrer"><img src="../assets/images/instagram.png" alt="Instagram Icon" class="social-icon"></a>
                        <a href="https://linkedin.com/company/rofilid" aria-label="LinkedIn" class="social-link" target="_blank" rel="noopener noreferrer"><img src="../assets/images/linkedin.png" alt="LinkedIn Icon" class="social-icon"></a>
                        <a href="https://twitter.com/rofilid" aria-label="X (Formerly Twitter)" class="social-link" target="_blank" rel="noopener noreferrer"><img src="../assets/images/twitter.png" alt="X (Twitter) Icon" class="social-icon"></a>
                         <a href="https://wa.me/234XXXXXXXXXX" aria-label="WhatsApp" class="social-link" target="_blank" rel="noopener noreferrer"><img src="../assets/images/whatsapp.png" alt="WhatsApp Icon" class="social-icon"></a>
                     </div>
                </div>
             </div>
            <div class="copyright"> <p>Â© <span id="current-year">2024</span> ROFILID Services Limited. All rights reserved.</p> </div>
        </div>
    </footer>

     <!-- Embedded JavaScript (FULL Quiz Logic is REQUIRED here too) -->
    <script>
        // --- START Quiz Logic (v2.1 - MODAL, Personal Page OPTIMIZED) ---

        // Contains ONLY Theme 1 Questions (Categories 1-4) needed for this page
        const allQuestions_Theme1 = [
            // Cat 1: Income & Financial Vitals
            { id: 1, categoryId: 1, themeId: 1, category: "Income & Financial Vitals", question: "What is the first essential step when starting to create a budget?", options: ["Calculate total monthly income", "List all fixed expenses", "Set long-term financial goals", "Track spending habits for a month"], correctAnswerIndex: 0, explanation: "Knowing your total income is fundamental for planning." },
            { id: 2, categoryId: 1, themeId: 1, category: "Income & Financial Vitals", question: "You earn â‚¦150,000/month (after tax) and save â‚¦22,500. What's your savings rate?", options: ["10%", "15%", "20%", "22.5%"], correctAnswerIndex: 1, explanation: "(22,500 / 150,000) * 100 = 15%." },
            { id: 3, categoryId: 1, themeId: 1, category: "Income & Financial Vitals", question: "What does 'Pay Yourself First' mean?", options: ["Spend on wants first", "Allocate savings *before* other spending", "Pay debt before saving", "Buy luxury items first"], correctAnswerIndex: 1, explanation: "It prioritizes saving/investing by treating it as a mandatory expense." },
            { id: 4, categoryId: 1, themeId: 1, category: "Income & Financial Vitals", question: "How is Net Worth calculated?", options: ["Income - Expenses", "Assets - Liabilities", "Savings + Investments", "Monthly Income x 12"], correctAnswerIndex: 1, explanation: "Net worth = What you Own (Assets) minus What you Owe (Liabilities)." },
            { id: 5, categoryId: 1, themeId: 1, category: "Income & Financial Vitals", question: "â‚¦50,000 deposit at 4% simple annual interest earns how much interest in one year?", options: ["â‚¦400", "â‚¦5,000", "â‚¦2,000", "â‚¦200"], correctAnswerIndex: 2, explanation: "Interest = â‚¦50,000 * 0.04 * 1 = â‚¦2,000." },
            // Cat 2: Savings Essentials
            { id: 6, categoryId: 2, themeId: 1, category: "Savings Essentials", question: "Why save money regularly, even small amounts?", options: ["To show off", "For emergencies, goals, investments", "Banks guarantee high returns", "Just to avoid spending"], correctAnswerIndex: 1, explanation: "Consistent saving builds financial security for emergencies and future goals." },
            { id: 7, categoryId: 2, themeId: 1, category: "Savings Essentials", question: "Benefit of starting to save early?", options: ["Retire sooner automatically", "Take advantage of compound interest", "Avoid future taxes", "Higher rates for young savers"], correctAnswerIndex: 1, explanation: "Early saving allows more time for compound interest to significantly grow your money." },
            { id: 8, categoryId: 2, themeId: 1, category: "Savings Essentials", question: "Most crucial factor when choosing a savings account?", options: ["Bank's color scheme", "Interest rate (APY) and fees", "Number of branches", "Friends use the bank"], correctAnswerIndex: 1, explanation: "The interest rate dictates growth, while fees can erode savings." },
            { id: 9, categoryId: 2, themeId: 1, category: "Savings Essentials", question: "Best place for an emergency fund?", options: ["Stock market", "High-yield savings account", "Under the mattress", "Long-term fixed deposit"], correctAnswerIndex: 1, explanation: "Needs to be safe, easily accessible, and ideally earn some interest, like a HYSA." },
            { id: 10, categoryId: 2, themeId: 1, category: "Savings Essentials", question: "What is simple interest?", options: ["Interest on principal only", "Interest on principal + accumulated interest", "Bank account fee", "Decreasing interest"], correctAnswerIndex: 0, explanation: "Simple interest is calculated only on the original principal amount." },
            // Cat 3: Budgeting Basics
            { id: 11, categoryId: 3, themeId: 1, category: "Budgeting Basics", question: "What is the primary purpose of a budget?", options: ["Track past spending", "Plan future spending and saving", "Restrict all 'fun' spending", "Calculate taxes"], correctAnswerIndex: 1, explanation: "A budget is a financial plan to allocate income towards expenses, savings, and goals." },
            { id: 12, categoryId: 3, themeId: 1, category: "Budgeting Basics", question: "Difference between fixed and variable expenses?", options: ["Fixed change monthly, variable stay same", "Fixed generally stay same, variable change", "Both change monthly", "Both stay same"], correctAnswerIndex: 1, explanation: "Fixed (rent) are constant; Variable (groceries) fluctuate." },
            { id: 13, categoryId: 3, themeId: 1, category: "Budgeting Basics", question: "How to differentiate 'need' vs. 'want'?", options: ["Frequency of purchase", "Need=Essential for survival/well-being; Want=Comfort/enjoyment", "Needs cost more", "Friends have wants"], correctAnswerIndex: 1, explanation: "Needs are fundamental requirements; wants enhance life but aren't essential." },
            { id: 14, categoryId: 3, themeId: 1, category: "Budgeting Basics", question: "What is the 50/30/20 budgeting rule?", options: ["50% Needs, 30% Wants, 20% Savings", "50% Savings, 30% Needs, 20% Wants", "50% Wants, 30% Needs, 20% Savings", "50% Debt, 30% Savings, 20% Expenses"], correctAnswerIndex: 0, explanation: "A guideline allocating 50% income to Needs, 30% to Wants, 20% to Savings/Debt." },
            { id: 15, categoryId: 3, themeId: 1, category: "Budgeting Basics", question: "What is a sinking fund primarily used for?", options: ["Emergency fund", "Saving for a specific, planned future expense", "High-risk investment", "Debt payoff only"], correctAnswerIndex: 1, explanation: "Saving regularly for a known future expense (e.g., car, vacation) to avoid debt." },
            // Cat 4: Tracking & Managing Spending
            { id: 16, categoryId: 4, themeId: 1, category: "Tracking & Managing Spending", question: "Practical first step to track expenses accurately?", options: ["Ignore small cash", "Keep receipts, note all spending", "Only track card payments", "Guess totals"], correctAnswerIndex: 1, explanation: "Tracking every expense provides a complete picture of spending habits." },
            { id: 17, categoryId: 4, themeId: 1, category: "Tracking & Managing Spending", question: "Why track expenses regularly?", options: ["To know borrowing capacity", "Understand spending, find savings areas", "Share habits with friends", "Simplify tax calculation"], correctAnswerIndex: 1, explanation: "Reveals patterns, helps stick to budget, identifies potential cuts." },
            { id: 18, categoryId: 4, themeId: 1, category: "Tracking & Managing Spending", question: "Useful budgeting tool/technique in cash-heavy places?", options: ["Complex software", "Envelope system for cash", "Heavy crypto investment", "Mental calculations only"], correctAnswerIndex: 1, explanation: "The envelope system helps physically control cash spending by category." },
            { id: 19, categoryId: 4, themeId: 1, category: "Tracking & Managing Spending", question: "Budget â‚¦10,000 for entertainment, spent â‚¦8,500. % remaining?", options: ["5%", "10%", "15%", "85%"], correctAnswerIndex: 2, explanation: "Remaining = â‚¦1,500. (1500 / 10000) * 100 = 15%." },
            { id: 20, categoryId: 4, themeId: 1, category: "Tracking & Managing Spending", question: "Item costs â‚¦25,000, but has a 20% discount. Actual pay?", options: ["â‚¦5,000", "â‚¦20,000", "â‚¦24,000", "â‚¦30,000"], correctAnswerIndex: 1, explanation: "Discount = â‚¦5,000. Price = â‚¦25,000 - â‚¦5,000 = â‚¦20,000." }
            // --- Questions for Themes 2-6 are NOT included here ---
        ];

        // Use the limited set of questions for this page's quiz logic
        const questionsForThisPage = allQuestions_Theme1;

        // --- Quiz State & DOM References (Identical to previous full script) ---
        let currentQuizData = {
             questions: [], currentQuestionIndex: 0, score: 0, userAnswers: {}
        };
        const quizModal = document.getElementById('quiz-modal');
        const modalTitle = document.getElementById('quiz-modal-title');
        const modalCloseBtn = document.getElementById('quiz-modal-close');
        const modalQuestionEl = document.getElementById('quiz-modal-question');
        const modalOptionsEl = document.getElementById('quiz-modal-options');
        const modalFeedbackEl = document.getElementById('quiz-modal-feedback');
        const modalNextBtn = document.getElementById('quiz-modal-next');
        const modalResultsEl = document.getElementById('quiz-modal-results');
        const modalRestartBtn = document.getElementById('quiz-modal-restart');
        const modalCloseResultsBtn = document.getElementById('quiz-modal-close-results');
        const modalProgressCurrent = document.getElementById('quiz-modal-q-current');
        const modalProgressTotal = document.getElementById('quiz-modal-q-total');


        // --- Quiz Functions (Identical Logic, but use `questionsForThisPage`) ---
        function startQuiz(categoryId) {
            console.log(`Starting quiz for category ID: ${categoryId}`);
            // Filter from the limited set available on this page
            const categoryQuestions = questionsForThisPage.filter(q => q.categoryId === categoryId);
            if (categoryQuestions.length === 0) {
                 console.error("No questions found in questionsForThisPage for category ID:", categoryId);
                alert("Sorry, questions for this category could not be loaded or are not available on this page.");
                return;
             }
            if (categoryQuestions.length !== 5) { // Keep the check
                 console.warn(`Expected 5 questions, but found ${categoryQuestions.length} for category ID: ${categoryId}.`);
                 // Decide how to handle this - proceed or alert user? For now, proceed.
            }

            currentQuizData = { questions: categoryQuestions, currentQuestionIndex: 0, score: 0, userAnswers: {} };
            modalTitle.textContent = categoryQuestions[0]?.category || 'Financial Fitness Quiz';
            modalResultsEl.style.display = 'none'; modalRestartBtn.style.display = 'none'; modalCloseResultsBtn.style.display = 'none';
            modalQuestionEl.style.display = 'block'; modalOptionsEl.style.display = 'block'; modalFeedbackEl.style.display = 'none';
             modalProgressCurrent.closest('.quiz-modal-progress').style.display = 'block';
             modalProgressTotal.textContent = currentQuizData.questions.length; // Will be 5 if filtering works
            displayModalQuestion();
            quizModal.style.display = 'flex'; document.body.style.overflow = 'hidden';
        }

        // -- The following functions remain identical in logic --
        function displayModalQuestion() {
             const quiz = currentQuizData;
             if (quiz.currentQuestionIndex >= quiz.questions.length) { showModalResults(); return; }
             const q = quiz.questions[quiz.currentQuestionIndex];
             modalQuestionEl.textContent = q.question;
            modalOptionsEl.innerHTML = ''; modalFeedbackEl.style.display = 'none'; modalNextBtn.style.display = 'none';
             modalProgressCurrent.textContent = quiz.currentQuestionIndex + 1;
            q.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.textContent = option; button.className = 'option-button'; button.setAttribute('data-index', index);
                 button.onclick = () => handleModalOptionSelection(index); modalOptionsEl.appendChild(button);
             });
         }

         function handleModalOptionSelection(selectedIndex) {
             const quiz = currentQuizData;
             const q = quiz.questions[quiz.currentQuestionIndex];
            const buttons = modalOptionsEl.querySelectorAll('button');
             buttons.forEach(button => { button.disabled = true; button.onclick = null; });
             quiz.userAnswers[q.id] = selectedIndex;
            showModalFeedback(selectedIndex, q.correctAnswerIndex, q.explanation);
        }

         function showModalFeedback(selectedIndex, correctIndex, explanation) {
            const quiz = currentQuizData;
            const isCorrect = selectedIndex === correctIndex;
            if (isCorrect) quiz.score++;
            const buttons = modalOptionsEl.querySelectorAll('button');
             buttons.forEach((button, index) => {
                 button.classList.remove('selected');
                 if (index === correctIndex) button.classList.add('correct');
                 else if (index === selectedIndex) button.classList.add('incorrect');
                 else button.classList.add('disabled');
             });
            modalFeedbackEl.innerHTML = `<p><strong>${isCorrect ? 'Correct!' : 'Incorrect.'}</strong> ${explanation || ''}</p>`;
            modalFeedbackEl.className = `quiz-feedback ${isCorrect ? 'correct' : 'incorrect'}`;
             modalFeedbackEl.style.display = 'block';
             if (quiz.currentQuestionIndex < quiz.questions.length - 1) { modalNextBtn.style.display = 'inline-block'; }
             else { modalNextBtn.style.display = 'none'; setTimeout(showModalResults, 1200); }
         }

         function nextModalQuestion() {
            modalFeedbackEl.style.display = 'none'; modalNextBtn.style.display = 'none';
            currentQuizData.currentQuestionIndex++; displayModalQuestion();
        }

         function showModalResults() {
            const quiz = currentQuizData;
             modalQuestionEl.style.display = 'none'; modalOptionsEl.style.display = 'none'; modalFeedbackEl.style.display = 'none';
             modalNextBtn.style.display = 'none'; modalProgressCurrent.closest('.quiz-modal-progress').style.display = 'none';
             modalResultsEl.innerHTML = `<h4>Quiz Complete!</h4> <p>Your Score: ${quiz.score} out of ${quiz.questions.length}</p> <p style="margin-top: 10px; font-size: 0.9em;">${quiz.score === quiz.questions.length ? 'Excellent work!' : quiz.score >= Math.ceil(quiz.questions.length * 0.6) ? 'Good job!' : 'Keep learning!'}</p>`;
            modalResultsEl.style.display = 'block'; modalRestartBtn.style.display = 'inline-block'; modalCloseResultsBtn.style.display = 'inline-block';
         }

         function restartModalQuiz() {
             const categoryId = currentQuizData.questions[0]?.categoryId;
             if (categoryId) {
                 modalResultsEl.style.display = 'none'; modalRestartBtn.style.display = 'none'; modalCloseResultsBtn.style.display = 'none';
                 startQuiz(categoryId); // This uses the locally scoped `questionsForThisPage`
             } else { closeQuizModal(); }
         }

         function closeQuizModal() {
            quizModal.style.display = 'none'; document.body.style.overflow = '';
             // Reset minimal modal state for next time
            modalTitle.textContent = 'Quiz Title';
            modalQuestionEl.textContent = ''; modalOptionsEl.innerHTML = '';
             modalFeedbackEl.style.display = 'none'; modalResultsEl.style.display = 'none';
            modalRestartBtn.style.display = 'none'; modalCloseResultsBtn.style.display = 'none';
            modalNextBtn.style.display = 'none';
             // Ensure question/options/progress are ready to be shown again
            modalQuestionEl.style.display = 'block';
             modalOptionsEl.style.display = 'block';
             modalProgressCurrent.closest('.quiz-modal-progress').style.display = 'block';
         }
        // --- END Quiz Logic ---


        // --- START Combined Initializations (Preserving non-quiz JS) ---
        document.addEventListener('DOMContentLoaded', () => {
             // Keep header height logic, menu, social carousel, stats counter, smooth scroll etc.
             let headerHeight = 70; function updateHeaderHeight() { const siteHeader = document.querySelector('.site-header'); headerHeight = siteHeader?.offsetHeight || 70; }
             const mobileMenuToggle = document.querySelector('.mobile-menu-toggle'); const primaryNav = document.querySelector('#primary-navigation'); if(mobileMenuToggle && primaryNav) { mobileMenuToggle.addEventListener('click', () => { const isExpanded = mobileMenuToggle.getAttribute('aria-expanded') === 'true'; mobileMenuToggle.setAttribute('aria-expanded', !isExpanded); primaryNav.classList.toggle('active'); document.body.style.overflow = !isExpanded ? 'hidden' : ''; }); document.addEventListener('click', (event) => { if (!primaryNav.contains(event.target) && !mobileMenuToggle.contains(event.target) && primaryNav.classList.contains('active')) { mobileMenuToggle.setAttribute('aria-expanded', 'false'); primaryNav.classList.remove('active'); document.body.style.overflow = ''; } }); window.addEventListener('scroll', () => { if (primaryNav?.classList.contains('active')) { mobileMenuToggle?.setAttribute('aria-expanded', 'false'); primaryNav.classList.remove('active'); document.body.style.overflow = ''; } }, { passive: true }); }
             const carousels = document.querySelectorAll('.social-carousel'); carousels.forEach(carousel => { let currentIndex = 0; const posts = carousel.querySelectorAll('.social-post'); let intervalId = null; function showPost(index) { posts.forEach((post, i) => { post.style.display = i === index ? 'block' : 'none'; }); } function startCarousel() { if (intervalId) clearInterval(intervalId); if (posts.length > 1) { intervalId = setInterval(() => { currentIndex = (currentIndex + 1) % posts.length; showPost(currentIndex); }, 6000); } } if (posts.length > 0) { showPost(currentIndex); startCarousel(); } });
             const statObserver = new IntersectionObserver((entries, observer) => { entries.forEach(entry => { if (entry.isIntersecting) { const statCard = entry.target; const targetSpan = statCard.querySelector('.stat-target'); const displayEl = statCard.querySelector('h4'); const suffix = (displayEl.textContent.includes('%') ? '%' : '') || (displayEl.textContent.includes('+') ? '+' : ''); if (!targetSpan || !displayEl || displayEl.classList.contains('counted')) { observer.unobserve(statCard); return; } const target = parseInt(targetSpan.textContent, 10); if (isNaN(target)) { observer.unobserve(statCard); return; } let currentCount = 0; const duration = 1500; const frameDuration = 1000 / 60; const totalFrames = Math.round(duration / frameDuration); const increment = target / totalFrames; const animateCount = () => { currentCount += increment; if (currentCount < target) { displayEl.textContent = Math.ceil(currentCount).toLocaleString() + suffix; requestAnimationFrame(animateCount); } else { displayEl.textContent = target.toLocaleString() + suffix; displayEl.classList.add('counted'); } }; requestAnimationFrame(animateCount); observer.unobserve(statCard); } }); }, { threshold: 0.4 }); document.querySelectorAll('.stat-card').forEach(card => { statObserver.observe(card); });
             function smoothScrollTo(targetElement) { updateHeaderHeight(); const elementPosition = targetElement.getBoundingClientRect().top; const offsetPosition = elementPosition + window.pageYOffset - headerHeight; window.scrollTo({ top: offsetPosition, behavior: 'smooth' }); } document.querySelectorAll('a[href^="#"]').forEach(anchor => { anchor.addEventListener('click', function (e) { const targetId = this.getAttribute('href'); if (targetId && targetId.length > 1 && targetId.startsWith('#')) { try { const targetElement = document.querySelector(targetId); if (targetElement) { e.preventDefault(); smoothScrollTo(targetElement); } else { console.warn("Smooth scroll target not found:", targetId); } } catch (err) { console.error("Invalid selector for smooth scroll:", targetId, err); } } }); }); document.querySelectorAll('a[href*="#"]').forEach(anchor => { try { const url = new URL(anchor.href, window.location.origin); const targetId = url.hash; const isSamePageLink = (url.pathname === window.location.pathname || anchor.getAttribute('href').startsWith('#')) && targetId.length > 1; if (!isSamePageLink) { anchor.addEventListener('click', function (e) { if (targetId) { sessionStorage.setItem('scrollToId', targetId); } }); } } catch (e) {} }); function handlePageLoadScroll() { updateHeaderHeight(); const storedTargetId = sessionStorage.getItem('scrollToId'); const currentHash = window.location.hash; let targetIdToScroll = null; if (storedTargetId && storedTargetId.length > 1) { targetIdToScroll = storedTargetId; sessionStorage.removeItem('scrollToId'); } else if (currentHash && currentHash.length > 1) { targetIdToScroll = currentHash; } if (targetIdToScroll) { try { const targetElement = document.querySelector(targetIdToScroll); if (targetElement) { setTimeout(() => { smoothScrollTo(targetElement); if (history.replaceState) { history.replaceState(null, null, window.location.pathname + window.location.search); } }, 150); } else { console.warn("Target element not found on load for ID:", targetIdToScroll); } } catch(err) { console.error("Invalid selector from storage/hash:", targetIdToScroll, err); } } } handlePageLoadScroll();


             // --- QUIZ EVENT LISTENERS (For This Personal Page) ---
             document.querySelectorAll('#financial-fitness-challenge-intro .start-quiz-btn').forEach(button => { // Only target buttons within the intro section
                 button.addEventListener('click', (e) => {
                    const card = e.target.closest('.category-card');
                    const categoryId = card ? parseInt(card.dataset.categoryId, 10) : null;
                     // Double-check if the categoryId is actually for Theme 1 (1-4)
                     if (categoryId && categoryId >= 1 && categoryId <= 4) {
                        startQuiz(categoryId);
                    } else if (categoryId) {
                        // If somehow a button for another theme was clicked here, maybe link to the quizzes page?
                         console.warn(`Category ${categoryId} quiz should be taken on the full quiz page.`);
                        window.location.href = 'quizzes.html'; // Or provide a message
                    } else {
                        console.error("Missing or invalid category ID on card.");
                    }
                 });
             });

             // Attach modal button listeners (Identical logic needed)
             if (modalCloseBtn) modalCloseBtn.addEventListener('click', closeQuizModal);
             if (modalCloseResultsBtn) modalCloseResultsBtn.addEventListener('click', closeQuizModal);
            if (modalNextBtn) modalNextBtn.addEventListener('click', nextModalQuestion);
            if (modalRestartBtn) modalRestartBtn.addEventListener('click', restartModalQuiz);
            if (quizModal) quizModal.addEventListener('click', (e) => { if (e.target === quizModal) closeQuizModal(); });
            // --- END QUIZ EVENT LISTENERS ---


             const currentYearSpan = document.getElementById('current-year'); if(currentYearSpan) { currentYearSpan.textContent = new Date().getFullYear(); }
            updateHeaderHeight(); window.addEventListener('resize', updateHeaderHeight, { passive: true });
            console.log("ROFILID Personal Page v2.1.1 (Optimized Script) Initialized.");
         });
        // --- END Combined Initializations ---
     </script>
</body>
</html>
