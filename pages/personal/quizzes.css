/* ==========================================================================
   ROFILID Quizzes Page Styles
   Location: /pages/personal/quizzes.css
   Description: Styles specific to the Quizzes page (quizzes.html).
   Dependencies: personal.css (for base styles, variables, utilities)
   ========================================================================== */

/* --- Global Variables (Quiz Page Specific if needed) --- */
:root {
    --quiz-intro-padding-bottom-mb: var(--space-2xl); /* Slightly more padding for mobile */
    --accordion-btn-hover-bg: var(--pp-color-primary-lightest);
    --accordion-btn-hover-color: var(--pp-color-primary-dark);
    --accordion-icon-color: var(--pp-color-text-muted);
    --accordion-active-icon-color: var(--pp-color-secondary-dark);
}

/* --- Quiz Page Introduction Section (Using .hero-section base) --- */
.quiz-page-intro.hero-section {
    /* Use a gradient consistent with personal.css theme options */
    background: linear-gradient(170deg, var(--pp-color-bg-light) 0%, var(--pp-color-primary-lightest) 30%, var(--rofilid-white) 100%);
    padding-block: var(--space-3xl) var(--space-2xl); /* Generous padding */
    border-bottom: 1px solid var(--pp-color-border-light);
}

.quiz-page-intro .hero-container {
    /* Using existing .hero-container which centers content by default */
    text-align: center; /* Ensure all content within is centered */
}

.quiz-page-intro .hero-content h1 {
    /* Styles from personal.css .hero-content h1 apply */
    color: var(--pp-color-primary-dark); /* Slightly darker for this page for emphasis */
}

.quiz-page-intro .subheadline {
    /* Styles from personal.css apply, ensure centered */
    margin-inline: auto;
    max-width: 65ch; /* Consistent with personal.css */
    margin-bottom: var(--space-xl); /* More space before actions */
}

.quiz-page-intro .hero-actions {
    /* Styles from personal.css .hero-actions apply (flex, gap, justify-content) */
    margin-top: var(--space-xl); /* Standard spacing */
}

.quiz-page-intro .hero-actions .btn {
    min-width: 240px; /* Ensure buttons are substantial */
}
/* Optional: specific hover/focus for intro buttons if needed, but base styles should be good */


/* --- Accordion Styles (Refined & Enhanced) --- */
.accordion {
    max-width: 900px; /* Consistent max-width for content readability */
    margin-inline: auto; /* Center accordion on page */
}

.accordion-item {
    background-color: var(--rofilid-white);
    border: var(--border-width) solid var(--pp-color-border-light);
    border-radius: var(--radius-lg);
    margin-bottom: var(--space-lg);
    box-shadow: var(--shadow-sm);
    transition: box-shadow var(--transition-normal), border-color var(--transition-normal);
    overflow: hidden; /* Essential for collapse animation */
}

.accordion-item:last-of-type {
    margin-bottom: 0;
}

.accordion-item:hover {
    box-shadow: var(--shadow-md);
    border-color: var(--pp-color-border);
}

.accordion-header {
    margin-bottom: 0; /* Remove default h3 margin */
    position: relative; /* For icon positioning if done via pseudo-elements */
}

.accordion-button {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: space-between; /* Push icon to the right */
    width: 100%;
    padding: var(--space-lg);
    font-size: var(--font-size-lg); /* Make theme titles prominent */
    font-weight: var(--font-weight-semibold);
    color: var(--pp-color-primary);
    text-align: left;
    background-color: var(--rofilid-white);
    border: none;
    border-radius: 0; /* Button itself has no radius; item handles it */
    cursor: pointer;
    transition: background-color var(--transition-fast), color var(--transition-fast);
    line-height: 1.4; /* Improve text wrapping */
}
.accordion-button::after { /* Styling for the chevron icon via CSS */
    content: '\f078'; /* Font Awesome chevron-down */
    font-family: 'Font Awesome 6 Free';
    font-weight: 900; /* FA Solid */
    font-size: 0.8em; /* Adjust size relative to button font */
    color: var(--accordion-icon-color);
    margin-left: var(--space-md);
    transition: transform var(--transition-normal) ease-in-out, color var(--transition-normal);
    flex-shrink: 0; /* Prevent icon from shrinking */
}

.accordion-button:hover {
    background-color: var(--accordion-btn-hover-bg);
    color: var(--accordion-btn-hover-color);
}
.accordion-button:hover::after {
    color: var(--accordion-btn-hover-color);
}

.accordion-button:focus { outline: none; } /* Handled by focus-visible */
.accordion-button:focus-visible {
    z-index: 1;
    outline: none;
    box-shadow: var(--shadow-focus); /* Use global focus shadow */
    /* Ensure focus visible style covers the button well */
    border-radius: var(--radius-sm); /* Apply radius for focus on button itself */
}

/* When expanded (button not collapsed) */
.accordion-button:not(.collapsed) {
    background-color: var(--pp-color-primary-lightest);
    color: var(--pp-color-primary-dark);
    /* Add subtle bottom border to separate from content visually */
    box-shadow: inset 0 -1px 0 var(--pp-color-border-light);
}
.accordion-button:not(.collapsed)::after {
    transform: rotate(-180deg);
    color: var(--accordion-active-icon-color);
}

/* Accordion Collapse Panel */
.accordion-collapse {
    overflow: hidden;
    transition: height 0.35s ease-in-out, visibility 0s linear 0.35s;
    height: 0;
    visibility: hidden;
    will-change: height; /* Hint for performance */
}
.accordion-collapse.show {
    height: auto; /* This will be overridden by JS to scrollHeight, then back to auto */
    visibility: visible;
    transition: height 0.35s ease-in-out, visibility 0s linear 0s;
}

.accordion-body {
    padding: var(--space-lg);
    background-color: var(--rofilid-white); /* Ensure distinct background for content */
    /* No top border needed if accordion-button:not(.collapsed) has box-shadow */
}

/* Styles for category grid within accordion body, inherit from personal.css */
.accordion-body .category-grid {
    gap: var(--space-lg); /* Consistent gap for category cards */
}

/* Style category cards inside accordion (can reuse from personal.css) */
.accordion-body .category-card {
    /* Most styles (.card, .category-icon, h4, p, .btn) come from personal.css */
    /* Subtle adjustments if needed */
    box-shadow: var(--shadow-sm); /* Lighter shadow inside accordion */
    padding: var(--space-lg); /* Default card padding is fine */
}
.accordion-body .category-card:hover {
    transform: translateY(-4px) scale(1.01); /* Less pronounced hover effect */
    box-shadow: var(--shadow-md);
}
.accordion-body .category-card h4 {
    font-size: var(--font-size-md); /* Slightly smaller heading inside accordion cards */
    margin-bottom: var(--space-sm);
}
.accordion-body .category-card p {
    font-size: var(--font-size-sm);
    margin-bottom: var(--space-md); /* Adequate space before button */
    line-height: 1.5;
    min-height: 3em; /* Ensure a minimum height for text consistency */
}
.accordion-body .category-card .start-quiz-btn {
    width: 100%; /* Make buttons full width within the card for touch targets */
    font-size: var(--font-size-sm);
    padding: var(--space-sm) var(--space-md);
}

/* --- Responsive Adjustments for Accordion & Quiz Page Specifics --- */
@media (max-width: 991px) { /* Tablet */
    .accordion {
        max-width: 720px;
    }
    .accordion-button {
        font-size: var(--font-size-md);
    }
    .accordion-body .category-grid {
        grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
    }
    .accordion-body .category-card p {
        min-height: 3.5em;
    }
}

@media (max-width: 767px) { /* Mobile */
    .quiz-page-intro.hero-section {
        padding-block: var(--space-2xl) var(--space-xl);
    }
    .quiz-page-intro .hero-actions .btn {
        width: 100%; /* Full width buttons on mobile for intro */
        min-width: unset;
    }

    .accordion {
        margin-bottom: var(--space-xl); /* Add some bottom margin if it's the last element */
    }
    .accordion-item {
        margin-bottom: var(--space-md);
    }
    .accordion-button {
        padding: var(--space-md);
        font-size: var(--font-size-base); /* Readable on mobile */
    }
    .accordion-body {
        padding: var(--space-md);
    }
    .accordion-body .category-grid {
        grid-template-columns: 1fr; /* Stack category cards on small mobile */
        gap: var(--space-md);
    }
     @media (min-width: 480px) and (max-width: 767px) {
        .accordion-body .category-grid {
             grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); /* 2-col for mid-mobile */
        }
    }
    .accordion-body .category-card {
        padding: var(--space-md);
    }
    .accordion-body .category-card p {
        min-height: auto; /* Allow natural height on mobile stack */
        margin-bottom: var(--space-sm);
    }
}

/* --- Quiz Modal Overrides (IF any needed, currently reusing personal.css modal styles) --- */
/*
.quiz-modal-content {
    Example: max-width: 800px; for wider modal specifically on this page
}
*/


/* --- Print Styles (Significantly Improved for Clarity) --- */
@media print {
    body { /* Ensure base print from personal.css is active */
        font-family: 'Times New Roman', Times, serif !important;
        font-size: 10pt !important;
        line-height: 1.3 !important;
        color: #000 !important;
        background: #fff !important;
        margin: 1cm !important;
    }
    .site-header, .site-footer, .deco-blur, /* Common hidden elements */
    .quiz-page-intro, /* Hide entire intro section */
    #full-financial-challenge > .container > .section-title,
    #full-financial-challenge > .container > .section-description,
    .accordion-button, /* Hide interactive accordion buttons */
    .start-quiz-btn, /* Hide all quiz start buttons */
    .category-icon,  /* Hide icons in category cards */
    #quiz-modal /* Hide modal itself */
    {
        display: none !important;
        visibility: hidden !important;
    }

    main#main-content {
        padding-top: 0 !important;
    }

    .accordion {
        max-width: 100% !important;
        margin: 0 !important;
    }

    .accordion-item {
        border: none !important;
        box-shadow: none !important;
        margin-bottom: 1.5cm !important; /* Space between printed themes */
        page-break-inside: avoid !important;
        overflow: visible !important;
    }

    .accordion-button { /* Hidden, but if for some reason it appears, ensure no bg */
        background: none !important;
    }
    .accordion-button::after { /* Hide CSS-generated icon */
        display: none !important;
    }

    /* Theme Title for Print */
    .accordion-header::before { /* Use header text if button hidden, or override to be safe */
        content: "" !important; /* Clear default if any */
    }
    .accordion-item[data-theme-id="1"] .accordion-header::before { content: 'Theme 1: Your Financial Groundwork'; }
    .accordion-item[data-theme-id="2"] .accordion-header::before { content: 'Theme 2: Building Your Financial Future'; }
    .accordion-item[data-theme-id="3"] .accordion-header::before { content: 'Theme 3: Investing & Growth'; }
    .accordion-item[data-theme-id="4"] .accordion-header::before { content: 'Theme 4: Protection & Long-Term Security'; }

    .accordion-header::before { /* Common styling for generated theme titles */
        display: block;
        font-size: 14pt;
        font-weight: bold;
        color: #000;
        margin-bottom: 0.7cm;
        padding-bottom: 0.2cm;
        border-bottom: 1px solid #666;
        page-break-after: avoid; /* Don't break after title */
    }


    .accordion-collapse, .accordion-collapse.show {
        display: block !important; /* Ensure visibility */
        height: auto !important;
        visibility: visible !important;
        overflow: visible !important;
        background: none !important;
    }

    .accordion-body {
        padding: 0 !important; /* Remove padding */
        border: none !important; /* Remove body border */
        background: none !important;
    }

    .accordion-body .category-grid {
        display: grid !important;
        grid-template-columns: 1fr 1fr !important; /* Two columns for categories */
        gap: 0.8cm 0.5cm !important; /* Row and column gap */
        margin-top: 0 !important;
    }

    .accordion-body .category-card.card {
        page-break-inside: avoid !important;
        border: 1px solid #ccc !important; /* Light border for cards */
        padding: 0.4cm !important;
        background: #fff !important;
        box-shadow: none !important;
        margin-bottom: 0 !important;
        display: block !important; /* Ensure block display for consistent rendering */
        height: auto !important;
        width: auto !important;
    }
    .accordion-body .category-card .card-content {
         padding: 0 !important;
    }

    .accordion-body .category-card h4 {
        font-size: 10pt !important;
        font-weight: bold !important;
        margin-bottom: 0.2cm !important;
        color: #000 !important;
    }
    .accordion-body .category-card p {
        font-size: 9pt !important;
        margin-bottom: 0 !important;
        color: #333 !important;
        line-height: 1.2 !important;
        min-height: 0 !important; /* Reset min-height */
    }
}
